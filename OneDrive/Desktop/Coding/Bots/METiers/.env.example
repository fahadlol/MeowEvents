# =============================================================================
# METiers – single env reference (bot, dashboard, site)
# =============================================================================
# Copy this file to .env (root) for the bot + dashboard.
# For the Next.js site: copy the "Site" section below into site/.env.local
# =============================================================================

# -----------------------------------------------------------------------------
# Bot & Dashboard (root .env)
# -----------------------------------------------------------------------------
DISCORD_TOKEN=your_bot_token_here
DISCORD_CLIENT_ID=your_application_id_here
DISCORD_CLIENT_SECRET=your_client_secret_here
API_SECRET=generate_a_long_random_string_here
BOT_API_PORT=3456
WEB_PORT=3457
BASE_URL=http://localhost:3457
# DASHBOARD_PASSWORD=your_dashboard_password
# When /result is used, bot POSTs here so the site updates that player's tier (and kit). Use the port your site runs on (e.g. 3001 if Next.js said "trying 3001 instead").
# SITE_SYNC_WEBHOOK_URL=http://localhost:3000/api/webhooks/discord-tier
# SITE_SYNC_SECRET=some_secret_matching_site_SYNC_SECRET

# -----------------------------------------------------------------------------
# Supabase Postgres (root .env – optional, for direct DB access)
# -----------------------------------------------------------------------------
# SUPABASE_DB_HOST=db.your-project.supabase.co
# SUPABASE_DB_PORT=5432
# SUPABASE_DB_NAME=postgres
# SUPABASE_DB_USER=postgres
# SUPABASE_DB_PASSWORD=your_db_password
# DATABASE_URL=postgresql://postgres:YOUR_PASSWORD@db.your-project.supabase.co:5432/postgres

# -----------------------------------------------------------------------------
# Site (copy to site/.env.local)
# -----------------------------------------------------------------------------
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-from-dashboard
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-from-dashboard
ADMIN_PASSWORD=your-secure-admin-password
NEXT_PUBLIC_DISCORD_INVITE_URL=https://discord.gg/your-invite
NEXT_PUBLIC_SERVER_IP=me.vise.network
# Optional: for SEO when sharing (e.g. https://yoursite.com)
# NEXT_PUBLIC_SITE_URL=https://yoursite.com

# Discord tier sync (Admin → "Sync from Discord"): pull /result tiers from bot
# BOT_API_URL=http://localhost:3456
# BOT_API_SECRET=same_as_bot_API_SECRET
# One server: DISCORD_GUILD_ID=your_discord_server_id
# Multiple servers: DISCORD_GUILD_IDS=id1,id2,id3  (comma-separated)
# SYNC_DEFAULT_MODE=sword
# Real-time webhook (bot POSTs when /result is used): set SYNC_SECRET to match bot SITE_SYNC_SECRET
# SYNC_SECRET=secret_for_webhook_must_match_bot_SITE_SYNC_SECRET
